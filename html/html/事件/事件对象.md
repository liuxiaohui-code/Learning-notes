# 事件对象

事件就是浏览器中发生的事儿，比如点击按钮、加载页面、播放视频，等等，我们可以通过调用代码来响应事件。 侦听事件发生的结构称为**事件监听器（Event Listener）**，响应事件触发而运行的代码块被称为**事件处理器（Event Handler）**。

​ HTML 属性等价于对许多事件处理程序的属性；但是，你不应该使用这些 —— 他们被认为是不好的做法。
​ 在事件处理函数内部，一个固定指定名称的参数，例如`event`，`evt`或简单的`e`。 这被称为**事件对象**，它被自动传递给事件处理函数，以提供额外的功能和信息。

```js
e.target:obj   //指的是元素本身
e.preventDefault();//阻止默认事件, return false;可以达到同样的目的
```

## 事件的冒泡与捕获

冒泡:事件会从目标节点流向文档根节点，途中会经过目标节点的各个父级节点，并在这些节点上触发捕获事件，直至到达文档的根节点。整个过程就像水中的气泡一样，从水底向上运动。
捕获:事件从文档根节点（Document 对象）流向目标节点，途中会经过目标节点的各个父级节点，并在这些节点上触发捕获事件，直至到达事件的目标节点；先
后来，W3C 为了统一标准，采用了一个折中的方式，即将事件捕获与事件冒泡合并，也就是现在的“先捕获后冒泡”

当一个事件发生在具有父元素的元素上(例如，在我们的例子中是`<video>`元素)时，现代浏览器运行两个不同的阶段 - 捕获阶段和冒泡阶段。 在捕获阶段：

-   浏览器检查元素的最外层祖先`<html>`，是否在捕获阶段中注册了一个`onclick`事件处理程序，如果是，则运行它。
-   然后，它移动到`<html>`中单击元素的下一个祖先元素，并执行相同的操作，然后是单击元素再下一个祖先元素，依此类推，直到到达实际点击的元素。

在冒泡阶段，恰恰相反:

-   浏览器检查实际点击的元素是否在冒泡阶段中注册了一个`onclick`事件处理程序，如果是，则运行它
-   然后它移动到下一个直接的祖先元素，并做同样的事情，然后是下一个，等等，直到它到达`<html>`元素。

在现代浏览器中，默认情况下，所有事件处理程序都在冒泡阶段进行注册。

```js
//当在事件对象上调用该函数时，它只会让当前事件处理程序运行，但事件不会在冒泡链上进一步扩大，因此将不会有更多事件处理器被运行(不会向上冒泡)。
e.stopPropagation()
```

## 事件委派

事件委派的定义就是，把原来加给子元素身上的事件绑定在父元素身上，就是把事件委派给父元素。
原理: 事件冒泡,点击子元素,触发父元素的点击事件,通过`event.target`获取触发的子元素

```HTML
<ul id="ul1" >
  <li>111</li>
  <li>222</li>
  <li>333</li>
  <li>444</li>
</ul>
<script>
  // 给每个li添加事件
var li=document.getElementsByTagName('li');
function A(){
    alert(li.innerHTML);
};
li.click=A;


// 事件委派
var ul=document.getElementById('ul1')
var target = ul.target || ul.srcElement; //兼容处理
alert(target.innerHTML);

</script>


```