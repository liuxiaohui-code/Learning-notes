# 枚举

1. 定义的 `enum` 类型总是继承自 `java.lang.Enum`，且无法被继承；
2. 只能定义出 `enum` 的实例，而无法通过 `new` 操作符创建 `enum` 的实例；
3. 定义的每个实例都是引用类型的唯一实例；默认都被 `final、public, static` 修饰
4. 可以将 `enum` 类型用于 `switch` 语句。
5. 注意：枚举类的字段也可以是非 final 类型，即可以在运行期修改，但是不推荐这样做！

```java
// 关键字 eum
public enum Color {
  // 枚举成员 x,y,z,...;
  RED,BLUE,GREEN,BLACK;
}



// 编译器编译出的class大概就像这样
public final class Color extends Enum { // 继承自Enum，标记为final class
    // 每个实例均为全局唯一:
    public static final Color RED = new Color();
    public static final Color GREEN = new Color();
    public static final Color BLUE = new Color();
    // private构造方法，确保外部无法调用new操作符:
    private Color() {}
}
```

优点:

1. enum 常量本身带有类型信息
2. 不可能引用到非枚举的值，因为无法通过编译
3. 不同类型的枚举不能互相比较或者赋值，因为类型不符。

使得编译器可以在编译期自动检查出所有可能的潜在错误。

## 比较

枚举类是引用类型,可以重重写`equals()`方法进行比较;另外,因为 enum 类型的每个常量在 JVM 中只有一个唯一实例，所以可以直接用`==`比较;

## 常用方法

```java
name() 返回常量名
String s = Weekday.SUN.name(); // "SUN"

toString()  默认情况下，对枚举常量调用toString()会返回和name()一样的字符串。但是，toString()可以被覆写，而name()则不行。
// 注意：判断枚举常量的名字，要始终使用name()方法，绝不能调用toString()！

values()	以数组形式返回枚举类型的所有成员

valueOf()	将普通字符串（枚举成员的字符串形式）转换为枚举实例

compareTo()	比较两个枚举成员在定义时的顺序

ordinal()	返回定义的常量的顺序，从0开始计数 //要编写健壮的代码，就不要依靠ordinal()的返回值。因为enum本身是class，所以我们可以定义private的构造方法，并且，给每个枚举常量添加字段
int n = Weekday.MON.ordinal(); // 1
```

## 为枚举添加方法

```java
enum WeekDay {
  // 枚举的成员，必须先定义，而且使用分号结束
  Mon("Monday"),Tue("Tuesday"),Wed("Wednesday"),Thu("Thursday"),Fri("Friday"),Sat("Saturday"),Sun("Sunday");
  // 属性
  private final String day;
  // 构造函数
  private WeekDay(String day) {
    this.day = day;
  }
  //
  public static void printDay(int i) {
          switch(i) {
              case 1:
                  System.out.println(WeekDay.Mon);
                  break;
              case 2:
                  System.out.println(WeekDay.Tue);
                  break;
              case 3:
                  System.out.println(WeekDay.Wed);
                  break;
              case 4:
                  System.out.println(WeekDay.Thu);
                  break;
              case 5:
                  System.out.println(WeekDay.Fri);
                  break;
              case 6:
                  System.out.println(WeekDay.Sat);
                  break;
              case 7:
                  System.out.println(WeekDay.Sun);
                  break;
              default:
                  System.out.println("wrong number!");
          }
  }

  // 枚举方法
  public String getDay() {
    return day;
  }
  @Override
  public String toString() {
    return this.day ;
  }
}
```

## EnumMap

EnumMap 是专门为枚举类型量身定做的 Map 实现，HashMap 只能接收同一枚举类型的实例作为键值，并且由于枚举类型实例的数量相对固定并且有限，所以 EnumMap 使用数组来存放与枚举类型对应的值，使得 EnumMap 的效率非常高。

## EnumSet

EnumSet 是枚举类型的高性能 Set 实现，它要求放入它的枚举常量必须属于同一枚举类型。
